(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function u(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=u(e);fetch(e.href,a)}})();const l=t=>(t=t.replace(/^#/,""),{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}),d=()=>{const t=document.getElementById("catImg"),n=document.createElement("a");n.href=t.src,n.download="cat_image.png",n.click()},p=()=>{const t=document.getElementById("catImg");t!=null&&t.src&&URL.revokeObjectURL(t.src),t==null||t.remove()},g="https://cataas.com/cat",m=t=>{const n=t.gifCheckbox.checked?"/gif":"",u=!t.gifCheckbox.checked&&t.tagSelect.value?`/${t.tagSelect.value}`:"",s=t.textInput.value?`/says/${t.textInput.value}`:"",e=l(t.colorInput.value),a=new URLSearchParams;return[{input:t.fontSizeInput,param:"fontSize"},{input:t.textColorInput,param:"fontColor"},{input:t.typeInput,param:"type"},{input:t.filterInput,param:"filter"},{input:t.brightnessInput,param:"brightness"},{input:t.lightnessInput,param:"lightness"},{input:t.saturationInput,param:"saturation"},{input:t.hueInput,param:"hue"},{input:{value:e.r},param:"r"},{input:{value:e.g},param:"g"},{input:{value:e.b},param:"b"},{input:t.widthInput,param:"width"},{input:t.heightInput,param:"height"}].forEach(({input:r,param:i})=>{r.value&&a.append(i,r.value)}),g+n+u+s+"?"+a.toString()},y=async t=>await(await fetch(t)).blob(),I=t=>{const n=document.getElementById("textBlock");t.value==="square"||t.value===""?n.style.display="block":n.style.display="none"},h=t=>{const n=document.getElementById("customParameters"),u=document.getElementById("labelType"),s=document.getElementById("type"),e=n.getElementsByClassName("customParamInput");if(t.value==="custom")n.style.display="block",u.style.display="none",s.value="";else{n.style.display="none",u.style.display="block";for(let a of e)a.value=""}},b=async t=>{const n=m(t),u=await y(n),s=document.createElement("img");s.id="catImg",s.src=URL.createObjectURL(u),t.imageBlock.appendChild(s)},o={submitButton:document.getElementById("submit"),saveButton:document.getElementById("save"),tagSelect:document.getElementById("tag"),gifCheckbox:document.getElementById("gif"),textInput:document.getElementById("text"),fontSizeInput:document.getElementById("fontSize"),textColorInput:document.getElementById("textColor"),typeInput:document.getElementById("type"),filterInput:document.getElementById("filter"),brightnessInput:document.getElementById("brightness"),lightnessInput:document.getElementById("lightness"),saturationInput:document.getElementById("saturation"),hueInput:document.getElementById("hue"),colorInput:document.getElementById("RGB"),widthInput:document.getElementById("width"),heightInput:document.getElementById("height"),imageBlock:document.getElementById("imageBlock"),loader:document.getElementById("loader")};o.submitButton.addEventListener("click",async()=>{p(),o.submitButton.disabled=!0,o.saveButton.disabled=!0,o.loader.style.display="block",await b(o),o.submitButton.disabled=!1,o.saveButton.disabled=!1,o.loader.style.display="none"});o.filterInput.addEventListener("change",function(){h(this)});o.typeInput.addEventListener("change",function(){I(this)});o.saveButton.addEventListener("click",()=>{d()});
